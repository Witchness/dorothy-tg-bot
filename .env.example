BOT_TOKEN=
# Telegram transport mode (polling|webhook)
TELEGRAM_MODE=polling
# Visual registry mode (debug|dev|prod)
REGISTRY_MODE=dev
# Enable persistence (DB+files) regardless of visual mode
PERSIST=off
LOG_LEVEL=info
ALLOWLIST_USER_IDS=
ADMIN_CHAT_ID=
REGISTRY_WRITE_MD=true

ALLOWED_UPDATES=minimal
ALLOWED_UPDATES_LIST=message,edited_message,callback_query

PRESENT_DEFAULT=on

PRESENT_QUOTES=html

# Snapshot signature sensitivity (handled-changes detection)
# Increase to catch deeper/narrow changes; defaults are safe for dev
SNAPSHOT_SIGN_DEPTH=4
SNAPSHOT_SIGN_MAX_KEYS=40
SNAPSHOT_SIGN_MAX_ITEMS=10

# Snapshot sanitization limits (stored sample payload size)
# Keep compact in prod; you may raise in QA for richer diagnostics
SNAPSHOT_SAN_MAX_DEPTH=2
SNAPSHOT_SAN_MAX_KEYS=15
SNAPSHOT_SAN_MAX_ITEMS=5
SNAPSHOT_SAN_MAX_STRING=200


SNAPSHOT_HANDLED_CHANGES=last-3

# Optional override for DB file path (default: data/db/main.sqlite)
# DB_FILE_PATH=

# Optional override for schema-requests JSON queue (default: data/schema-requests.jsonl)
# SCHEMA_REQUESTS_PATH=
